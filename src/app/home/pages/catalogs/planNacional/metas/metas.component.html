<div class="container mx-auto max-w-4xl px-4 py-6 space-y-6 bg-white shadow-lg rounded-lg mt-6">
  <!-- Encabezado -->
  <h2 class="text-3xl font-bold text-center text-blue-900">Nueva Meta</h2>

  <!-- Contexto: Eje y Objetivo -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">Eje</label>
      <input type="text" [value]="ejeNombre" disabled class="w-full bg-gray-50 border border-gray-200 rounded px-3 py-2" />
    </div>
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">Objetivo</label>
      <input type="text" [value]="objetivoNombre" disabled class="w-full bg-gray-50 border border-gray-200 rounded px-3 py-2" />
    </div>
  </div>

  <!-- Formulario de Meta -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">Nombre de la Meta</label>
      <input type="text" [(ngModel)]="nuevaMeta.nombre" class="w-full border border-gray-300 rounded px-3 py-2" />
    </div>
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">Descripción</label>
      <textarea [(ngModel)]="nuevaMeta.descripcion" class="w-full border border-gray-300 rounded px-3 py-2 min-h-[40px]"></textarea>
    </div>
  </div>

  <div class="flex justify-end">
    <button (click)="agregarMeta()" class="bg-blue-600 hover:bg-blue-700 text-white font-medium px-4 py-2 rounded flex items-center gap-2">
      <i class="fas fa-plus"></i> Agregar Meta
    </button>
  </div>

  <!-- Tabla de metas añadidas -->
  <div class="overflow-x-auto border rounded-lg">
    <table class="min-w-full divide-y divide-gray-200 text-sm">
      <thead class="bg-gray-100">
        <tr>
          <th class="px-4 py-2 text-center">N°</th>
          <th class="px-4 py-2">Meta</th>
          <th class="px-4 py-2">Descripción</th>
          <th class="px-4 py-2 text-center">Acción</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let meta of listaMetas; let i = index" class="hover:bg-gray-50">
          <td class="text-center px-4 py-2">{{ i + 1 }}</td>
          <td class="font-medium px-4 py-2">{{ meta.nombre }}</td>
          <td class="text-gray-700 px-4 py-2">{{ meta.descripcion || 'N/A' }}</td>
          <td class="text-center px-4 py-2 flex justify-center gap-2">
            <button (click)="editarMeta(meta)" class="text-blue-600 hover:text-blue-800">
              <i class="fas fa-pen"></i>
            </button>
            <button (click)="eliminarMeta(meta)" class="text-red-600 hover:text-red-800">
              <i class="fas fa-trash"></i>
            </button>
          </td>
        </tr>
        <tr *ngIf="listaMetas.length === 0">
          <td colspan="4" class="text-center text-gray-500 py-4">No hay metas añadidas.</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Acciones -->
  <div class="flex justify-end gap-4">
    <button (click)="goBack()" class="px-4 py-2 border border-gray-300 rounded hover:bg-gray-100">
      Regresar
    </button>
    <button (click)="guardarTodo()" class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded">
      Guardar
    </button>
  </div>
</div>
